# 导学

## 1. 什么是计算机网络

计算机网络主要由一些通用的可编程的硬件相互连接而成，通过这些硬件可以传送不同类型的数据，并可以支持广泛和日益增长的应用

#### 重点

* 算机网络不是软件概念, 还包含硬件设备

  > 比如网卡, 网线, 路由器

* 计算机网络不仅仅是信息通信，还可以支持广泛的应用

## 2. 网络的分类

#### 1. 按照网络的作用范围进行分类

![计算机网络的分类](E:\Git\秋招_基础知识\计算机网络\图片\第1章\计算机网络的分类.png)

**大小:** 广域网 > 城域网 > 局域网

#### 2. 按照网络的使用者进行分类

* **公用网络:** 所有愿意付钱或者愿意载入的都可以载入的网络成为公用网络

* **专用网络:** 某些部门或者某些人为了满足特殊业务需求而建立起来的特殊网络. 

  > 比如军队, 铁路, 银行, 公司等都有自己的专用网络

**理解**

* 公共网络意思就是说所有人都可以使用的网络，比如某些咖啡店为了招揽顾客，里面都有wifi 也就是说任何人都可以在里边无线上网，但这样很容易遭受攻击，所以不安全，不推荐

* 私有网络意思就是说你自己家的网络或者公司的网络，因为这些网一般不是任何人都可以用的，而且一般都需要密码，所以相对安全   



# 计算机网络的发展简史

## 互联网的发展历史

* **第一阶段:** 叫做 ARPANET, 是一个比较小的简单的网络. 1969年美国国防部创建的一个小的网络, 初衷是将旧金山的几个计算机连接起来. 发明了第一个网络
* **第二阶段:** 随着时间的推荐, 计算机进入了普通的家庭, 包括学校, 实验室, 研究所都拥有使用计算机的条件, 但是 ARPANET已经不能满足需求了. 于是有了 三级互联网, 也是现在互联网的雏形. 叫互联网络(能够相互连接), 可以把美国的大学, 实验室, 研究所连接起来了. 
* **第三阶段:** 随着时间的继续推进, 计算机普及到了全球. 互联网进入了多层次 ISP互联网. 

![互联网的发展历史](E:\Git\秋招_基础知识\计算机网络\图片\第1章\互联网的发展历史.png)

#### 第一阶段: 单个网络 ARPANET

主要由交换机和计算机组成, 计算机通过连接交换机就可以完成交互了, 并且连接的计算机也不多. 

![互联网的第一个阶段](E:\Git\秋招_基础知识\计算机网络\图片\第1章\互联网的第一个阶段.png)

#### 第二阶段: 三层结构互联网

三层网络主要有主干网, 地区网, 校园网组成. 这个阶段主要连接学校, 研究所, 实验室等等主要有计算机的地方. 主要还是美国使用的

![互联网的第二个阶段](E:\Git\秋招_基础知识\计算机网络\图片\第1章\互联网的第二个阶段.png)



#### 第三阶段:  多层次 ISP互联网

**ISP**(Internet Service Provider): 网络服务提供商, 包括中国电信, 中国移动, 中国联通等. 

* **主干 ISP:** 进行各国之间网络的连接. 包括中国的中国电信, 中国移动, 中国联通. 中国的主干 ISP可以连接美国, 欧洲, 北美, 南美的 主干 ISP.  通过海底电缆进行各国网络的连接. 

* **地区 ISP:** 进行各个区域之间网络的连接. 移动网络在中国叫做中国移动, 在北京叫做北京移动, 在上海叫做上海移动, 这属于地区 ISP. 地区 ISP主要提供地区网络的提供, 地区 ISP可以连接一些公司, 校园, 家庭等等需要网络的地方. 

到了这个阶段, 全球的互联网才真正的连接起来. 形成一个巨大的网络, 是全球信息可以连接起来. 

![互联网的第二个阶段](E:\Git\秋招_基础知识\计算机网络\图片\第1章\互联网的第二个阶段.png)



## 中国互联网的发展历史

![中国互联网的发展](E:\Git\秋招_基础知识\计算机网络\图片\第1章\中国互联网的发展.png)

中国建立了多个公用的计算机网络, 可以进行国际的信息交换. 有五个公共网络是最大的

![中国公共网络](E:\Git\秋招_基础知识\计算机网络\图片\第1章\中国公共网络.png)

出国的网络也是通过这五个来访问的, 如果我们要访问国外的网站, 就要通过这五个网络进行信息的转发来到国外. 



# 计算机网络的层次结构

## 基本原则

#### 为什么计算机网络需要使用层次结构的设计

假设有 A和 B两个计算机, 通过计算机网络连接起来, 想一下需要解决什么问题

1. **保证数据通路的顺畅,** 如果没有通路(道路), 数据没有办法传送, 就无法进行通信. 如果网络被挖掘机挖了, 就不能进行通信了, 所以需要解决这个问题. 
2. **识别目的计算机:** 在互联网里面, 有很多的计算机, A如何能够准备的找到 B, 需要解决
3. **查询目的计算机的状态:** A通过网络要知道 B是否在线, 是否能够接收到数据.  
4. **数据是否错误:** 传输过程中可能出现数据传输的错误(由于射线, 打雷等原因), 需要保证数据的正确性, 需要解决
5. 等等

计算机需要解决的问题是繁多并且复杂的,  所以采用分层的设计分层去解决不同问题, 分别实现不同的功能. 依次让计算机网络可以正常的运行起来. 

![计算机层次结构设计](E:\Git\秋招_基础知识\计算机网络\图片\第1章\计算机层次结构设计.png)

### 层析结构设计例子

网络应用数据: 用户接触

数据可靠通信: 用户接触不到, 但是要保证

物理网络接入: 比较底层了, 实现物理上的通信

![层次结构设计](E:\Git\秋招_基础知识\计算机网络\图片\第1章\层次结构设计.png)

### 设计的基本原则

1. 各层之间是相互独立的. 

   > 我们的某一层不需要知道上一层和下一层是怎么实现的, 只需要知道该层如何通过层间的接口来进行服务的提供的. 每一层只实现一个相对独立的功能, 并且层与层之间的耦合度是非常低的. 

2. 每一层要有足够的灵活性

   > 因为计算机网络是不断发展的, 因此设计的时候每一层要有足够的灵活性, 可以应对未来的变化. 

3. 各层之间完全解耦

   > 某一层上一层和下一层的变化不会影响本层的稳定. 这样就使得本层的功能易于实现和维护. 并且结构上可以完全的独立. 

**注意:** 我们在设计比较庞大的系统的话, 也可以借鉴这里的原则去设计



## OSI七层模型

OSI模型有七层的模型, 是 ISO(国际标准化组织所定义的) 

每层分别完成不同的工作, 并且各层之间是相互独立的. 互不干扰的. 

#### 七层模型

![OSI七层模型](E:\Git\秋招_基础知识\计算机网络\图片\第1章\OSI七层模型.png)

我们在使用计算机的时候直接接触的是应用层. 

#### 发展

* OSI欲成为全球计算机都遵循的标准
* OSI在市场化过程中困难重重，TCP/IP在全球范围成功运行
* OSI最终并没有成为广为使用的标准模型

#### 没有被接受的原因

* OSI的专家缺乏实际经验
* OSI标准制定周期过长，按OSI标准生产的设备无法及时进入市场
* OSI模型设计的并不合理，- -些功能在多层中重复出现



## TCP/IP模型

### 与 七层模型的关系

![四层与七层的关系](E:\Git\秋招_基础知识\计算机网络\图片\第1章\四层与七层的关系.png)

### 如何通信

假设 A和 B两个计算机进行通信, 两个计算机通过一个路由器连接起来了. 

1. A首先通过应用层, 传输层, 网络层, 网络接口层与路由器进行通信. 
2. 数据将通过网络层和网络接口层来到路由器. (在路由器中的层面只到达网络层), 路由器根据网络层的数据进行数据的转发
3. 转发到计算机 B, 也是通过应用层, 传输层, 网络层, 网络接口层来到计算机 B

![四层模型通信实例](E:\Git\秋招_基础知识\计算机网络\图片\第1章\四层模型通信实例.png)

#### TCP/IP的协议

不同设备经过协议的不同转换, 可以通过分层的方法来理解不同的协议, 不同的层面. 

![TCP每层的协议](E:\Git\秋招_基础知识\计算机网络\图片\第1章\TCP每层的协议.png)

中间窄, 两端大的沙漏的形状. 



# 现代互联网的网络拓扑

通过网络拓扑, 就可以在头脑中形成一个比较形象的计算机网络, 有助于我们学习后面的内容. 

现代互联网的网络拓扑主要分为两个部分. 分为边缘部分与核心部分. 

### 边缘部分

主要指我们用户平时可以接触到的部分. 比如 家, 上场, 公司

#### 举例

##### 例一: 家庭在联网时的一个网络拓扑图

1. 终端机器(手机, 电脑, 智能家电)通过有线或者无线连接的方式连接到路由器. 路由器是直接接触到终端机器的. 
2. 路由器与当地的网关进行连接, 网关可能连接一个或者多个路由器. 网关通过线路连接到一个地区 ISP
3. 地区 ISP, 比如在广东包括广东移动, 广东电信, 广东联通

![边缘部分举例](E:\Git\秋招_基础知识\计算机网络\图片\第1章\边缘部分举例.png)

##### 例二: 企业的网络拓扑图(较为复杂)

1. 有很多终端和路由器, 终端和最近的路由器进行连接

2. 路由器和最近的网关进行连接. 企业的网关可能有多个. 网关之间也可以相互连接. 网关中也可能有路由器在进行一些报文的转发以及连接和中转(省略了), 这些网关叫做内部网关. 
3. 内部网关还是要和地区 ISP进行通信, 因此还有一个统一网关. 用于收敛前面的连接. 然后提供一个出口与地区 ISP进行连接

![边缘部分举例2](E:\Git\秋招_基础知识\计算机网络\图片\第1章\边缘部分举例2.png)

主要设备没有变化, 不过可能有多个, 比较复杂. 

### 核心部分

主要组成部分是由地区 ISP和主干 ISP以及国际路由器组成的. 

1. 边缘中的地区 ISP会连接到主干 ISP中. 主干 ISP在华南地区的话主要在广州, 华北地区主要在上海, 北京等. 

2. 主干 ISP进行相互连接, 并通过国际路由器来与其他地区和国家的主干 ISP进行连接. 

   > 核心部分很多有海底电缆或者是跨地区的电缆, 这些通信设备主要有移动, 联通, 电信所铺设的

如图

![核心部分](E:\Git\秋招_基础知识\计算机网络\图片\第1章\核心部分.png)

### 整体

图中有非常多的网络, 有小型, 中型, 大型网络. 各个网络之间通过路由器进行连接. 也可以直接连接, 这些计算机中的设备通过网线或者 wife连接到小型/ 中型/ 大型网络中去, 这是真正的网络拓扑图 

#### 网络拓扑图

![连接到一起](E:\Git\秋招_基础知识\计算机网络\图片\第1章\连接到一起.png)

将核心部分和边缘部分连接起来, 我们可以得到一个现代网络的树状结构. 

#### 树状结构

![互联网的第三个阶段](E:\Git\秋招_基础知识\计算机网络\图片\第1章\互联网的第三个阶段.png)

- **主干 ISP:** 进行各国之间网络的连接. 包括中国的中国电信, 中国移动, 中国联通. 中国的主干 ISP可以连接美国, 欧洲, 北美, 南美的 主干 ISP.  通过海底电缆进行各国网络的连接. 

- **地区 ISP:** 进行各个区域之间网络的连接. 移动网络在中国叫做中国移动, 在北京叫做北京移动, 在上海叫做上海移动, 这属于地区 ISP. 地区 ISP主要提供地区网络的提供
- 地区 ISP可以连接一些公司, 校园, 家庭等等需要网络的地方. 

在平时使用网络的时候, 并不会感知到网络拓扑的存在. 不会知道主干 ISP和 地区ISP在哪里. 甚至不知道我们的网关在哪里. 能够了解到的也就是路由器和终端设备. 这是我们平时更多的是从用户的角度使用网络的. 

### 从用户的角度使用网络, 看到的是别的模式

#### 客户-服务器模式

比如在互联网寻求服务的时候. 使用的是 客户-服务器(C/S)的模式. 我们不需要感知其中具体的细节

#### 过程

1. 如果需要使用某一个服务的时候. 直接从自己的 PC发起这个服务. 
2. 服务就可以通过这个网络里面的路由来到服务提供的地方. 一个服务器. 
3. 服务器收到请求之后就会响应. 
4. 然后本地的 PC得到应答. 
5. 比如在网上查找资料, 发邮件的时候, 都是使用此模式

注意客户是服务的请求方, 服务器是属于服务的提供方. 都是通过互联网连接起来的. 整个过程不需要感知网络里面具体的细节. 也是现代计算机提供给我们的便利. 

#### 对等连接(P2P)模式

很多终端通过边缘部分连接到网络的核心部分. 但是**不分服务的请求方以及服务的提供方**. 只要终端运行了 P2P程序, 他们之间就可以进行对等的连接. 对等的连接方式可以支持大量的对等用户. 这也是当前比较常见的模式

如使用迅雷下载视频, 可以使下载速度更快



# 计算机网络的性能指标

有助于接下来评估或者判断网络的质量和速度. 

### 速度

![常见单位](E:\Git\秋招_基础知识\计算机网络\图片\第1章\常见单位.png)

计算机网络的单位为 bps (**bps = bit/s**), 

#### 问题

为什么电信拉的 100M光纤, 测试峰值速度只有 12M每秒?

答:

1. 网络常用的单位是 Mbps

2. 电信指的 100M光纤实际上为 100M/s = 100Mbps = 100 Mbit/s

3. 比特位换算为字节是有进制的, 8 bit = 1字节
4. 所以实际测试峰值速度的时候: 100Mbit/s = (100 / 8)MB/s = 12.5 MB/s

> 关键为两者说的单位不同. 

### 时延

时延就是延时, 从发送到接收一共花了多长时间. 

1. **发送时延:** 本机进行网络发送的时候, 在本机所停留的时间

   > `发送时延 = 数据长度(bit) / 发送速率(bit/s)`. 
   >
   > 其中的数据长度是有用户所决定的, 发送速率是由计算机网卡所决定的. 

2. **传播时延:** 发送路径所需要的时间, 

   > 传播路径的举例 / 传播速率(bit/s)
   >
   > 传播路径由用户所决定, 比如在北京向美国发送数据, 传播路径就很长, 传播速率是由传输介质所决定的, 不同的传输介质传播的速率就不相同, 如 铜线, 光纤. 

3. **排队时延:** 数据报在网络设备中等待被处理的时间

   > 一个数据从本机发送到一个路由器. 路由器并不是马上就进行处理的. 因为路由器也可能要处理很多的数据包. 所以我们发送的数据报可能在路由器中停留一定的时间. 

4. **处理时延:** 数据报到达设备或者目的及其被处理所需要的时间. 

   > 如果到达的目的地的服务器的性能不好, 可能我们的数据报文到达了那里, 但是他要反应一阵子才能处理我们的数据包 

总时延 = 发送时延 + 排队时延 + 传播时延 + 处理时延

时延就是评估计算机网络的时候对于时间的一个指标, 还有另一个指标往返时间 RTT

### RTT(Route-Trip Time)

* 是评估网络质量的一项重要的指标. 

* 表示数据报文在端到端通信中的一个来回一次的时间. 

* 通过 ping命令来查看 RTT(看不清的话看原图)

  ![ping比较](E:\Git\秋招_基础知识\计算机网络\图片\第1章\ping比较.png)

#### 结论

* 往返时间并不一定是个稳定的数
* ping的时间会与客户端与服务器的举例有关
* 过程中可能出现报文丢失, 网络超时的情况

